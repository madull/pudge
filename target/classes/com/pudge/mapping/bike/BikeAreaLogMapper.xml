<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.pudge.dao.bike.BikeAreaLogMapper">
  <resultMap id="BaseResultMap" type="com.pudge.entity.bike.BikeAreaLog">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sun Apr 19 18:04:28 CST 2015.
    -->
    <id column="bike_area_log_id" jdbcType="VARCHAR" property="bikeAreaLogId" />
    <result column="bike_area_nos" jdbcType="VARCHAR" property="bikeAreaNos" />
    <result column="bike_area_names" jdbcType="VARCHAR" property="bikeAreaNames" />
    <result column="area_rent_nums" jdbcType="INTEGER" property="areaRentNums" />
    <result column="area_return_nums" jdbcType="INTEGER" property="areaReturnNums" />
    <result column="create_time" jdbcType="TIMESTAMP" property="createTime" />
  </resultMap>
  
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sun Apr 19 18:04:28 CST 2015.
    -->
    bike_area_log_id, bike_area_nos, bike_area_names, area_rent_nums, area_return_nums, 
    create_time
  </sql>
 
 <select id="getBikeAreaLogList" parameterType="com.pudge.entity.bike.BikeAreaLog" resultMap="BaseResultMap"> 
            SELECT (@curRow := @curRow + 1) AS row_number,
					<include refid="Base_Column_List" />   		 
            FROM 	bike_area_log ,(SELECT @curRow :=0) ROW_INDEX
            <where> 
			<if test="bikeAreaLogId != null and bikeAreaLogId != ''">  
         	AND 	bike_area_log_id = #{bikeAreaLogId}  
     		</if>  
			<if test="createTime != null and createTime != ''">  
         	AND 	<![CDATA[ DATE_FORMAT(create_time,'%Y-%m-%d') >=DATE_FORMAT(#{createTime},'%Y-%m-%d') ]]>
     		</if>
     		</where>
            ORDER 	BY create_time DESC
            
            LIMIT 	#{beginRow},#{length}
    		<!-- LIMIT 	#{beginRow},#{length} -->
    </select> 
    
    <select id="getBikeAreaLogCount" parameterType="com.pudge.entity.bike.BikeAreaLog" resultType="int">       
            SELECT 	COUNT(*)          		 
            FROM 	bike_area_log 
            <where> 
			<if test="bikeAreaLogId != null and bikeAreaLogId != ''">  
         	AND 	bike_area_log_id = #{bikeAreaLogId}  
     		</if>  
			<if test="createTime != null and createTime != ''">  
         	AND 	<![CDATA[ DATE_FORMAT(create_time,'%Y-%m-%d') >=DATE_FORMAT(#{createTime},'%Y-%m-%d') ]]>
     		</if>
     		</where>
    </select>
    
    
    <select id="getBikeAreaLog" parameterType="com.pudge.entity.bike.BikeAreaLog" resultType="com.pudge.entity.bike.BikeAreaLog">  
            SELECT 
            <include refid="Base_Column_List" />
            FROM	bike_area_log 
            <where> 
			<if test="bikeAreaLogId != null and bikeAreaLogId != ''">  
         	AND 	bike_area_log_id = #{bikeAreaLogId}  
     		</if>  
			<if test="createTime != null and createTime != ''">  
         	AND 	<![CDATA[ DATE_FORMAT(create_time,'%Y-%m-%d') >=DATE_FORMAT(#{createTime},'%Y-%m-%d') ]]>
     		</if>
     		</where>
    </select>
    
    <insert id="insertBikeArea" parameterType="com.pudge.entity.bike.BikeAreaLog">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sun Apr 19 18:04:28 CST 2015.
    -->
    insert into bike_area_log (bike_area_log_id, bike_area_nos, bike_area_names, 
      area_rent_nums, area_return_nums, create_time
      )
    values (#{bikeAreaLogId,jdbcType=VARCHAR}, #{bikeAreaNos,jdbcType=VARCHAR}, #{bikeAreaNames,jdbcType=VARCHAR}, 
      #{areaRentNums,jdbcType=INTEGER}, #{areaReturnNums,jdbcType=INTEGER}, #{createTime,jdbcType=TIMESTAMP}
      )
  </insert>
  
  
  <update id="updateBikeArea" parameterType="com.pudge.entity.bike.BikeAreaLog">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sun Apr 19 18:04:28 CST 2015.
    -->
    update bike_area_log
    <set>
      <if test="bikeAreaNos != null">
        bike_area_nos = #{bikeAreaNos,jdbcType=VARCHAR},
      </if>
      <if test="bikeAreaNames != null">
        bike_area_names = #{bikeAreaNames,jdbcType=VARCHAR},
      </if>
      <if test="areaRentNums != null">
        area_rent_nums = #{areaRentNums,jdbcType=INTEGER},
      </if>
      <if test="areaReturnNums != null">
        area_return_nums = #{areaReturnNums,jdbcType=INTEGER},
      </if>
      <if test="createTime != null">
        create_time = #{createTime,jdbcType=TIMESTAMP},
      </if>
    </set>
    where bike_area_log_id = #{bikeAreaLogId,jdbcType=VARCHAR}
  </update>
    
    
    
    <!-- 删除系统参数 -->
    <update id="deleteBikeAreaLog" parameterType="String">       
       delete 
    	from 	bike_area_log
    	where  	bike_area_log_id = #{bikeAreaLogId}
    </update>
 
 
</mapper>